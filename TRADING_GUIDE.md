# 🚀 Sentirax 자동매매 실행 가이드

## 📅 실행 일정
- **예정 시간**: 오늘 밤 11시 30분
- **모드**: 모의투자 (실제 돈 사용 안 함)
- **대상**: 나스닥 거래량 TOP 10 종목

---

## ⚡ 빠른 실행 방법

### Windows PowerShell 또는 CMD에서:

```bash
cd c:\Project_Sentirax\sentirax
python scripts\auto_trading_bot.py
```

### 실행 시 나오는 확인 메시지:
```
정말 실행하시겠습니까? (yes/no):
```
→ **`yes`** 입력 후 엔터

---

## 📊 실행되는 내용

### 1. 대상 종목 (TOP 10)
- NVDA (엔비디아)
- INTC (인텔)
- TSLA (테슬라)
- AMZN (아마존)
- AAPL (애플)
- NFLX (넷플릭스)
- MSFT (마이크로소프트)
- AMD (AMD)
- MU (마이크론)
- GOOGL (구글)

### 2. 동작 방식
1. 각 종목의 ML 모델 로드
2. 최신 시장 데이터 수집
3. 매수/매도 신호 예측
4. **시장가 주문 실행 (각 1주씩)**

### 3. 주문 타입
- **시장가 (Market Order)**: 현재 시장가로 즉시 체결
- 수량: 각 종목당 1주

---

## ⏰ 미국 주식 시장 시간

### 정규 시장 시간 (한국 시간 기준)
- **여름 (서머타임)**: 오후 10:30 ~ 오전 5:00
- **겨울**: 오후 11:30 ~ 오전 6:00

### 2026년 2월 (겨울 시간)
- **개장**: 오후 11:30
- **폐장**: 오전 6:00 (다음날)

### ✅ 오늘 밤 11:30 실행 = 시장 개장 시간!
→ 주문이 바로 체결될 가능성 높음

---

## 🔍 실행 중 확인 사항

### 정상 동작 시 출력 예시:
```
======================================================================
🤖 Sentirax 자동매매 봇 초기화
======================================================================
✅ KIS API 초기화 완료
  - 모드: 모의투자

🔐 토큰 발급 중...
✅ 토큰 발급 성공

🔮 TSLA 매매 신호 예측
✅ 모델 로드 완료
📊 TSLA 최신 데이터 수집 중...
🟢 신호: 매수 (BUY)

💰 실제 주문 실행...
📈 매수 주문: TSLA
  - 수량: 1주
  - 가격: 시장가
✅ 매수 주문 성공
  - 주문번호: XXXXXXXX
```

### 주문 실패 시:
```
❌ 매수 주문 실패: [오류 메시지]
```
→ 시장이 닫혀있거나 API 오류일 수 있음

---

## 📝 결과 확인

### 1. 실행 로그
- 저장 위치: `results/trading_log_YYYYMMDD_HHMMSS.txt`
- 모든 예측과 주문 결과 기록됨

### 2. 한국투자증권 앱/웹에서 확인
- **모의투자** 계좌 접속
- 체결 내역 확인
- 잔고 확인

---

## ⚠️ 주의사항

### 1. 모의투자 계좌
- 실제 돈이 아닙니다
- 테스트 목적으로만 사용됩니다
- 계좌번호: 50163140

### 2. 실전투자 전환 시
⚠️ **절대 바로 실전 전환하지 마세요!**

먼저 해야 할 것:
1. 최소 1주일 이상 모의투자 결과 모니터링
2. 승률, 수익률 검증
3. 리스크 관리 로직 추가 (손절매, 포지션 크기)
4. 충분한 자금 확보

실전 전환 방법 (나중에):
```python
# auto_trading_bot.py 수정
bot = AutoTradingBot(
    paper_trading=False,  # False로 변경
    account_no="실전계좌번호"  # 실전 계좌번호로 변경
)
```

### 3. 에러 발생 시
- 인터넷 연결 확인
- API 서버 상태 확인
- 계좌번호 확인
- 로그 파일 확인

---

## 🛠️ 문제 해결

### "토큰 발급 실패"
- API 키 확인 (.env 파일)
- 인터넷 연결 확인

### "주문 실패"
- 시장 시간 확인 (미국 주식시장 개장 시간)
- 계좌번호 확인
- 모의투자 계좌 활성화 여부 확인

### "데이터 수집 실패"
- yfinance 서버 일시적 오류 가능
- 5분 후 재시도

---

## 📊 실행 후 모니터링

### 체크리스트:
- [ ] 10개 종목 모두 예측 완료
- [ ] 매수/매도 신호 확인
- [ ] 주문 체결 확인 (한국투자증권 앱)
- [ ] 로그 파일 저장 확인
- [ ] 오류 없이 완료

### 결과 분석:
1. 몇 개 종목 매수 신호?
2. 몇 개 종목 매도 신호?
3. 실제 체결된 주문 수?
4. 평균 체결 가격?

---

## 🎯 다음 단계 (선택)

### 1. 매일 자동 실행 (스케줄링)
Windows 작업 스케줄러 설정:
```
프로그램: python
인수: c:\Project_Sentirax\sentirax\scripts\auto_trading_bot.py
트리거: 매일 오후 11:30
```

### 2. 정확도 개선
- 더 많은 데이터 수집 (500일+)
- 모델 재학습
- 하이퍼파라미터 튜닝

### 3. 리스크 관리 추가
- 손절매 로직
- 포지션 크기 조절
- 최대 손실 한도

---

## 📞 긴급 중단 방법

### 실행 중 중단:
- `Ctrl + C` 누르기

### 이미 체결된 주문 취소:
- 한국투자증권 앱/웹에서 수동 취소
- 또는 반대 주문 (매수→매도, 매도→매수)

---

**🍀 행운을 빕니다!**

*마지막 업데이트: 2026-02-16*
